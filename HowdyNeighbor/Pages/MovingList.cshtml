@page
@model HowdyNeighbor.Pages.MovingListModel
@{
    ViewData["Title"] = "Moving Checklist";
}

<style>
    table {
        border: 1px solid slategray;
        background-color: #ECFCFD;
        table-layout: auto;
        box-shadow: 2px 2px 1px 0px rgba(50, 50, 50, 0.25);
    }

    tr {
        width: 960px;
    }

    td {
        border-top: 1px solid slategray;
        border-bottom: 1px solid slategray;
        padding: 10px;
        width: 240px;
    }

    button {
        border-radius: 4px;
    }
</style>

<h2>@ViewData["Title"]</h2>
<p>View a moving checklist that you have saved. Select pre-defined tasks from the list, or add custom tasks.</p>

<h3>Today</h3>
<table class="my-border" style="background-color:#ECFCFD; ">
    <thead>
        <tr>
            <th style="padding: 10px">Status</th>
            <th style="padding: 10px">Task</th>
            <th style="padding: 10px">Date</th>
            <th style="padding: 10px">Edit</th>
            <th style="padding: 10px">Delete</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model.ChecklistTask)
        {
            <tr>
                @if (item.Date <= DateTime.Now)
                {
                    if (item.IsComplete)
                    {
                        <td style="padding: 10px">Complete</td>
                        <td style="text-decoration: line-through;">@Html.DisplayFor(modelItem => item.Description)</td>
                    }
                    else
                    {
                        <td style="padding: 10px">Incomplete</td>
                        <td>@Html.DisplayFor(modelItem => item.Description)</td>
                    }
                    <td><span style="color: lightslategray"><i>@Html.DisplayFor(modelItem => item.Date)</i></span></td>
                    <td><a asp-page="./EditTask" asp-route-id="@item.ID">Edit</a></td>
                    <td><a asp-page="./DeleteTask" asp-route-id="@item.ID">Delete</a></td>
                }
            </tr>
        }
    </tbody>
</table>

<h3>Tomorrow</h3>
<table class="my-border" style="background-color:#ECFCFD; ">
    <thead>
        <tr>
            <th style="padding: 10px">Status</th>
            <th style="padding: 10px">Task</th>
            <th style="padding: 10px">Date</th>
            <th style="padding: 10px">Edit</th>
            <th style="padding: 10px">Delete</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model.ChecklistTask)
        {
            <tr>
                @if (item.Date <= DateTime.Now.AddDays(1) && item.Date > DateTime.Now)
                {
                    if (item.IsComplete)
                    {
                        <td style="padding: 10px">Complete</td>
                        <td style="text-decoration: line-through;">@Html.DisplayFor(modelItem => item.Description)</td>
                    }
                    else
                    {
                        <td style="padding: 10px">Incomplete</td>
                        <td>@Html.DisplayFor(modelItem => item.Description)</td>
                    }
                    <td><span style="color: lightslategray"><i>@Html.DisplayFor(modelItem => item.Date)</i></span></td>
                    <td><a asp-page="./EditTask" asp-route-id="@item.ID">Edit</a></td>
                    <td><a asp-page="./DeleteTask" asp-route-id="@item.ID">Delete</a></td>
                }
            </tr>
        }
    </tbody>
</table>

<h3>Later This Week</h3>
<table class="my-border" style="background-color:#ECFCFD; ">
    <thead>
        <tr>
            <th style="padding: 10px">Status</th>
            <th style="padding: 10px">Task</th>
            <th style="padding: 10px">Date</th>
            <th style="padding: 10px">Edit</th>
            <th style="padding: 10px">Delete</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model.ChecklistTask)
        {
            <tr>
                @if (item.Date <= DateTime.Now.AddDays(7) && item.Date > DateTime.Now.AddDays(1))
                {
                    if (item.IsComplete)
                    {
                        <td style="padding: 10px">Complete</td>
                        <td style="text-decoration: line-through;">@Html.DisplayFor(modelItem => item.Description)</td>
                    }
                    else
                    {
                        <td style="padding: 10px">Incomplete</td>
                        <td>@Html.DisplayFor(modelItem => item.Description)</td>
                    }
                    <td><span style="color: lightslategray"><i>@Html.DisplayFor(modelItem => item.Date)</i></span></td>
                    <td><a asp-page="./EditTask" asp-route-id="@item.ID">Edit</a></td>
                    <td><a asp-page="./DeleteTask" asp-route-id="@item.ID">Delete</a></td>
                }
            </tr>
        }
    </tbody>
</table>

<h3>Next Few Weeks</h3>
<table class="my-border" style="background-color:#ECFCFD; ">
    <thead>
        <tr>
            <th style="padding: 10px">Status</th>
            <th style="padding: 10px">Task</th>
            <th style="padding: 10px">Date</th>
            <th style="padding: 10px">Edit</th>
            <th style="padding: 10px">Delete</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model.ChecklistTask)
        {
            <tr>
                @if (item.Date <= DateTime.Now.AddDays(30) && item.Date > DateTime.Now.AddDays(7))
                {
                    if (item.IsComplete)
                    {
                        <td style="padding: 10px">Complete</td>
                        <td style="text-decoration: line-through;">@Html.DisplayFor(modelItem => item.Description)</td>
                    }
                    else
                    {
                        <td style="padding: 10px">Incomplete</td>
                        <td>@Html.DisplayFor(modelItem => item.Description)</td>
                    }
                    <td><span style="color: lightslategray"><i>@Html.DisplayFor(modelItem => item.Date)</i></span></td>
                    <td><a asp-page="./EditTask" asp-route-id="@item.ID">Edit</a></td>
                    <td><a asp-page="./DeleteTask" asp-route-id="@item.ID">Delete</a></td>
                }
            </tr>
        }
    </tbody>
</table>

<h3>Later This Year</h3>
<table class="my-border" style="background-color:#ECFCFD; ">
    <thead>
        <tr>
            <th style="padding: 10px">Status</th>
            <th style="padding: 10px">Task</th>
            <th style="padding: 10px">Date</th>
            <th style="padding: 10px">Edit</th>
            <th style="padding: 10px">Delete</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model.ChecklistTask)
        {
            <tr>
                @if (item.Date > DateTime.Now.AddDays(30))
                {
                    if (item.IsComplete)
                    {
                        <td style="padding: 10px">Complete</td>
                        <td style="text-decoration: line-through;">@Html.DisplayFor(modelItem => item.Description)</td>
                    }
                    else
                    {
                        <td style="padding: 10px">Incomplete</td>
                        <td>@Html.DisplayFor(modelItem => item.Description)</td>
                    }
                    <td><span style="color: lightslategray"><i>@Html.DisplayFor(modelItem => item.Date)</i></span></td>
                    <td><a asp-page="./EditTask" asp-route-id="@item.ID">Edit</a></td>
                    <td><a asp-page="./DeleteTask" asp-route-id="@item.ID">Delete</a></td>
                }
            </tr>
        }
    </tbody>
</table>
<a asp-page="AddTask">Add a Task</a>